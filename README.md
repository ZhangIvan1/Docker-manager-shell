# Docker shell 管理脚本

## 简介

该脚本旨在简化 Docker 的管理操作，特别为实验室内不熟悉 Docker 的同学提供便捷的工具。通过该脚本，你可以方便地进行 Docker 镜像、容器、网络和存储卷的管理，无需深入了解 Docker 命令行操作。

## 准备工作

在使用脚本之前，请确保完成以下准备工作：

1. **安装 Docker：** 确保已在你的系统上安装 Docker。如果尚未安装，请参考 Docker 官方文档进行安装。

2. **创建用户文件：** 在 `~/docker_user` 路径下创建一个名为 `docker_user` 的文件，按以下格式添加用户名和密码：

    ```
    username1:password1
    username2:password2
    ...
    ```

    确保每行只包含一个用户名和密码，使用冒号 `:` 分隔，用户名和密码之间不含空格。该文件用于用户登录，确保只有授权用户能执行操作。

## 使用方法

### 运行脚本

在终端中执行以下命令，确保位于脚本所在目录，并具有 sudo 权限：

```bash
sudo ./docker_manage
```

### 功能列表

- **登录功能：** 通过用户名和密码登录，确保只有授权用户能执行操作。
- **镜像管理：** 支持拉取、构建、删除和更新镜像，方便获取和维护镜像资源。
- **容器管理：** 提供创建、删除、启动、停止、重启、查看详情和日志等容器操作，简化容器的管理流程。
- **网络管理：** 可以查看网络详情、创建和删除网络，帮助配置容器之间的网络连接。
- **存储卷管理：** 支持创建和删除存储卷，并能方便地将存储卷挂载到容器中，用于持久化数据存储。

## 租户管理

脚本内置了一个简单的租户管理系统，通过识别容器、镜像、存储卷名称的前缀来实现权限控制。每个用户只能操作以其用户名为前缀的容器、镜像、存储卷，从而实现了对用户的权限控制。

## 注意事项

- 使用该脚本需要 sudo 权限，请确保已获得执行 Docker 相关操作的授权。
- 操作时请谨慎，避免误操作导致数据丢失或系统不稳定。
- 该脚本还在试验阶段，请勿用于生产环境，建议经过验证后再使用。
- 如有问题或疑问，请咨询实验室的 Docker 管理人员。
- 本项目仅供学习和研究使用，不鼓励用于商业用途，不对任何因使用本项目而导致的任何损失负责。
